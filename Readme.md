# UdpFlow

## Предназначение

Оценка влияния обратного трафика на передачу прямого


## Требования
На языке С или С++ написать клиент-серверное приложение для измерения скорости передачи данных поверх протокола UDP:
1. клиент должен в цикле отправлять UDP-датаграммы на указанный IP-адрес и порт с указанной скоростью или без ограничения;
2. сервер должен слушать указанный UDP-порт и вычитывать полученный трафик от клиента;
3. клиент и сервер должны выводить на экран информацию о скорости генерации/приема трафика.

Так как показалось интересным провести испытания в том числе со смартфоном, решил сделать
приоложение для Android с использованием NSDK и основным кодом на с++, который потом использовать
в обычном приложениии под x86/arm (не успел).
(Возможно можно запустить "чистое" C++ приложение на Андроид - эту гипотезу тоже не успел проверить)
Также опасался проблем с кросс-компиляцией, поэтому изначально начал делать через приложени под Андроид.
Признаться, самому это показалось наиболее интерсным :)

Предполагалось сделать а-ля iperf, то есть клиент и сервер взаимодействуют по сети по какому-то
протоколу (не смотрел исходников iperf-а но скорее всего как-то так он работает).

Клиентская часть не сделана, поэтому управляется через тот же самый UDP, обработкой текстовых команд,
которые отсылал с помощью консольных утилит.

Включить сбор статистики:
> echo -n "start_stat" | ncat -u 192.168.0.169 1777

Выключить сбор статистики:
> echo -n "stop_stat" | ncat -u 192.168.0.169 1777


Отправлять случайный трафик на сервер
> cat /dev/urandom | pv | ncat -u 192.168.0.169 1777

                        
Открыть сокет для приема обратного трафика: 
> ncat -kluvw 1 192.168.0.185 1778 | pv > /dev/null
> 
Запустить отправку обратного трафика:
> echo -n "start_send" | ncat -u 192.168.0.169 1777

Отсановить отправку обратного трафика:
> echo -n "stop_send" | ncat -u 192.168.0.169 1777


Приложение для Android

Открывать и собирать в Android Studio

Приложение выводит в окно статистику, а также позволяет сохранить статистику в виде csv файла для
последующей обработки.
Файл сохраняется в Downloads/UdpFlow_<date-time>.csv

Графики строятся через Python plotly
скрипт тут scrips/plot_gen.py
Запускать:
> python plot_gen.py <filename.csv>
